name: Sync and Merge Upstream
   on:
     schedule:
       - cron: '0 0 * * 0'  # Sunday at midnight
     workflow_dispatch:  # Manual trigger

   jobs:
     sync-and-merge:
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@v2
           with:
             fetch-depth: 0
         - name: Add upstream remote
           run: git remote add upstream https://github.com/uktrade/redbox.git
         - name: Fetch upstream
           run: git fetch upstream
         - name: Merge upstream main into your special branch
           run: |
             git checkout main
             git merge upstream/main
         - name: Push changes
           run: git push origin main
